<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>深度克隆1</title>
</head>
<body>
<script>
    //检查数据类型
    function checkType(target) {
        return Object.prototype.toString.call(target).slice(8,-1);
    }
    console.log(Object.prototype.toString());//[object Object]

    function deepClone(target) {
        let result = null;
        const type = checkType(target);
        if(type==="Object"){
            result = {};
        }else if(type==="Array"){
            result = [];
        }else {
            return target
        }

        for (let key in target) {
            // 将克隆的值作为新对象的某个属性的值
            // const newValue = deepClone(value);
            // result[key] = newValue;
            const value = target[key];
            result[key] = deepClone(value)
        }

        return result;
    }
    const person={
        name:"mike",
        age:18,
        lovers:["reachel","mimi","kiki","kivi"]
    };
    const newPerson = deepClone(person);
    newPerson.lovers.push("hot girl");
    console.log(newPerson,person);
</script>
</body>
</html>